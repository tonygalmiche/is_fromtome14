<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="is_report_delivery_document" inherit_id="stock.report_delivery_document">
        <t name="partner_header" position="replace">
            <t t-if="partner" name="partner_header">
                <t t-set="address">
                    <div t-esc="partner"
                    t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True}'/>
                    <div t-if="o.partner_id.is_gln">GLN:<span t-field="o.partner_id.is_gln"/></div>
                </t>
            </t>
        </t>
        <div class="page" position="replace">
            <style>
                .page{
                    font-size:10pt;
                }
            </style>
            <div class="page">
                <h2>
                    <span t-field="o.name"/>
                </h2>
                <table class="table table-sm">
                    <thead>
                        <tr>
                            <th class="text-center" t-if="o.sale_id.client_order_ref">
                                <strong>N°Cde Client</strong>
                            </th>
                            <th class="text-center" t-if="o.origin">
                                <strong>N°Cde Fromtome</strong>
                            </th>
                            <th class="text-center" name="td_sched_date_h">
                                <strong>Date Livraison</strong>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="text-center" t-if="o.sale_id.client_order_ref">
                                <span t-field="o.sale_id.client_order_ref"/>
                            </td>
                            <td class="text-center" t-if="o.origin">
                                <span t-field="o.origin"/>
                            </td>
                            <td class="text-center" name="td_sched_date">
                                <span t-field="o.scheduled_date" t-options="{'widget': 'date','format': 'dd/MM/yyyy'}"/>
                            </td>
                         </tr>
                    </tbody>
                </table>
               <table class="table table-sm mt48">
                    <thead>
                        <tr>
                            <th class="text-left"> <strong>Code</strong></th>
                            <th class="text-left"> <strong>Désignation</strong></th>
                            <th class="text-left"> <strong>Gencode</strong></th>
                            <th class="text-center"> <strong>Colis</strong></th>
                            <th class="text-center"> <strong>PCB</strong></th>
                            <th class="text-center" colspan="2"><strong>Qt</strong></th>
                            <th class="text-right"> <strong>Poids</strong></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="o.move_ids_without_package" t-as="line" t-if="line.quantity_done">
                            <td class="text-left"><span t-field="line.product_id.default_code"/></td>
                            <td class="text-left">
                                <div><strong><span t-field="line.product_id.name"/></strong></div>
                                <span t-if="line.is_lots" t-field="line.is_lots"/>
                            </td>
                            <td class="text-left;"><span style="font-size:6pt" t-field="line.product_id.barcode"/></td>
                            <td class="text-center"><span t-field="line.is_nb_colis"/></td>
                            <td class="text-center"><span t-field="line.product_id.is_nb_pieces_par_colis"/></td>
                            <td class="text-right" style="border-right:none"><span t-field="line.quantity_done"/></td>
                            <td class="text-left"  style="border-left:none"><span t-field="line.product_uom"/></td>
                            <td class="text-right"><span t-field="line.is_poids_net_reel"/></td>
                        </tr>
                    </tbody>
                    <thead>
                        <tr>
                            <th class="text-left" colspan="3"> <strong>Total : </strong></th>
                            <th class="text-center"> <strong><span t-field="o.is_nb_colis"/></strong></th>
                            <th colspan="3"> </th>
                            <th class="text-right"> <strong><span t-field="o.is_poids_net"/></strong></th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </template>
</odoo>