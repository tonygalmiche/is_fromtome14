<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="purchase_order_view_form_inherit" model="ir.ui.view">
        <field name="name">purchase.order.form.inherit</field>
        <field name="model">purchase.order</field>
        <field name="inherit_id" ref="purchase.purchase_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet[1]" position="inside">
                <style>
                    .o_form_view .o_form_sheet_bg {
                        background: #E46F78;
                        border-bottom: 1px solid #dee2e6;
                        position: relative;
                    }
                    .o_form_view .o_form_sheet_bg > .o_form_sheet{
                        max-width: 1800px;
                    }
                </style>
            </xpath>

            <button name="button_unlock" position="after">
                <button
                    name="creer_commande_fromtome_action"
                    type="object"
                    string="CrÃ©er commande dans Fromtome"
                    class="oe_highlight"
                />
            </button>
            <field name="date_order" position="after">
                <field name="is_commande_soldee"/>
            </field>


            <xpath expr="//field[@name='order_line']//tree//field[@name='product_qty']" position='attributes'>
                <attribute name="sum">Total</attribute>
            </xpath>



             <xpath expr="//field[@name='order_line']//tree//field[@name='price_unit']" position='before'>
                <field name="is_nb_pieces_par_colis" optional="hide"/>
                <field name="is_nb_colis"            optional="show" sum="Total"/>
                <field name="is_poids_net"  sum="Total" optional="hide"/>
            </xpath>


             <!-- <xpath expr="//field[@name='order_line']/tree" position="inside">
                <field name="echantillion"/>
             </xpath> -->
             <!-- <xpath expr="//field[@name='order_line']//tree//field[@name='price_subtotal']" position='attributes'>
                <attribute name="invisible">1</attribute>
             </xpath> -->
            <xpath expr="//field[@name='order_line']//tree//field[@name='date_planned']" position='attributes'>
                <attribute name="invisible">1</attribute>
             </xpath>
            <!-- <xpath expr="//field[@name='order_line']//tree//field[@name='company_id']" position='attributes'>
                <attribute name="invisible">1</attribute>
             </xpath> -->
            <!-- <xpath expr="//page[1]/group[1]" position='attributes'>
                 <attribute name="invisible">1</attribute>
             </xpath>
 -->
            <div name="date_approve" position="attributes">
                 <attribute name="invisible">1</attribute>
             </div>
            <label for="date_approve" position="attributes">
                 <attribute name="invisible">1</attribute>
             </label>


            <field name="origin" position="before">
               <field name="is_date_enlevement"/>
            </field>


            <!-- <xpath expr="//field[@name='date_planned']" position="after">
                <field name="is_date_enlevement"/>
            </xpath> -->
            <xpath expr="//field[@name='partner_ref']" position="after">
                <field name="is_adresse_livraison_id" />
            </xpath>

            <xpath expr="//field[@name='order_line']//tree//field[@name='product_uom']" position='attributes'>
                <attribute name="readonly">1</attribute>
            </xpath>

        </field>
    </record>

</odoo>